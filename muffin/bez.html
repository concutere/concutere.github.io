<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
    <style>
    div {
      position:absolute;
      width:100%;
      font-size:5em;
      font-family:Roboto,Helvetica,Arial,sans-serif;
      text-align:center;
    }
    
    .hide {
      display:none;
    }
    
    .sel {
      fill:turquoise;
    }
    </style>
    <script>
    
      // DEBUG CONSTS ...
      var bezSize = 2048;
      var volume = 1;
      var wave = 'custom';
      var mute = false;

      var includeSvgPath = true;;
      var useDeCasteljauPath = true;
      var drawBCs = false;
      var drawFreqs = true;
      var mute = false;
      var useAdsr = true;
      var addSustain = false;
      var fixX = true;
      var useWaves = true;
      var waves = undefined;
      var recording = false;
      var recLoop = false;
      var revWaves = true;
</script>
    <script src="dft.js"></script>
    
    <script src="bez.js"></script>

    <script src="draw.js"></script>

    <script src="midi.js"></script>
    
    <script src="joe.js"></script>  
    
    <script src="mic.js"></script>
    
    <script src="rosette.js"></script>
    
    <script src="play.js"></script>
   
    <script src="sofa.js"></script>

    <script>
      //todo ...
      var samplePaths = [
        [0, 495.5, 57, 286, 257, 179, 376, 393, 451, 592, 647, 922, 882, 655, 944, 495.5], //sine wave imposter
        [0,495.5,15.475409836065573,863,30.950819672131146,861,46.42622950819672,861,61.90163934426229,861,77.37704918032787,861,92.85245901639344,861,108.327868852459,861,123.80327868852459,861,139.27868852459017,861,154.75409836065575,861,170.2295081967213,861,185.70491803278688,861,201.18032786885246,861,216.655737704918,861,232.1311475409836,861,247.60655737704917,861,263.08196721311475,861,278.55737704918033,861,294.0327868852459,861,309.5081967213115,861,324.983606557377,861,340.4590163934426,861,355.9344262295082,861,371.40983606557376,861,386.88524590163934,862,402.3606557377049,863,417.8360655737705,863,433.311475409836,863,448.7868852459016,863,464.2622950819672,862,479.73770491803276,100,495.21311475409834,100,510.6885245901639,99,526.1639344262295,98,541.639344262295,98,557.1147540983607,98,572.5901639344262,98,588.0655737704918,98,603.5409836065573,98,619.016393442623,98,634.4918032786885,98,649.967213114754,98,665.4426229508197,98,680.9180327868852,98,696.3934426229508,98,711.8688524590164,98,727.344262295082,98,742.8196721311475,98,758.295081967213,98,773.7704918032787,98,789.2459016393442,98,804.7213114754098,98,820.1967213114754,98,835.672131147541,98,851.1475409836065,98,866.622950819672,99,882.0983606557377,99,897.5737704918032,99,913.0491803278688,99,928.5245901639344,101,944,495.5], //square wave imposter
        [0, 240, 16.78688524590164, 418.00201816347123, 33.57377049180328, 408.7991927346115, 50.36065573770492, 400.5650857719475, 67.14754098360656, 392.8153380423814, 83.9344262295082, 383.6125126135217, 100.72131147540983, 374.89404641775985, 117.50819672131146, 369.0817356205853, 134.29508196721312, 362.30070635721495, 151.08196721311475, 355.5196770938446, 167.8688524590164, 345.832492431887, 184.655737704918, 338.56710393541874, 201.44262295081967, 328.87991927346116, 218.2295081967213, 321.6145307769929, 235.01639344262293, 314.8335015136226, 251.80327868852459, 307.0837537840565, 268.59016393442624, 301.75580221997984, 285.37704918032784, 297.8809283551968, 302.1639344262295, 291.5842583249243, 318.95081967213116, 283.8345105953582, 335.7377049180328, 278.50655903128154, 352.52459016393436, 271.7255297679112, 369.311475409836, 264.460141271443, 386.0983606557377, 258.6478304742684, 402.88524590163934, 251.3824419778002, 419.672131147541, 245.08577194752775, 436.4590163934426, 238.30474268415742, 453.24590163934425, 233.9455095862765, 470.03278688524586, 226.68012108980827, 486.8196721311475, 222.32088799192735, 503.60655737704917, 217.47729566094853, 520.3934426229508, 217.47729566094853, 537.1803278688525, 213.1180625630676, 553.967213114754, 208.2744702320888, 570.7540983606557, 203.43087790111, 587.5409836065573, 199.55600403632695, 604.327868852459, 196.16548940464176, 621.1147540983607, 189.8688193743693, 637.9016393442623, 185.99394550958627, 654.6885245901639, 179.69727547931382, 671.4754098360656, 171.94752774974774, 688.2622950819672, 164.6821392532795, 705.0491803278687, 158.38546922300705, 721.8360655737705, 153.05751765893038, 738.622950819672, 144.8234106962664, 755.4098360655738, 137.0736629667003, 772.1967213114754, 128.35519677093845, 788.983606557377, 124.4803229061554, 805.7704918032787, 119.63673057517659, 822.5573770491802, 112.37134207870838, 839.344262295082, 107.52774974772957, 856.1311475409835, 100.74672048435923, 872.9180327868852, 94.93440968718465, 889.7049180327868, 88.15338042381433, 906.4918032786885, 81.372351160444, 923.2786885245902, 73.6226034308779, 940.0655737704917, 68.29465186680122, 956.8524590163934, 62.48234106962664, 973.639344262295, 57.63874873864783, 990.4262295081967, 53.763874873864786, 1007.2131147540983, 48.92028254288597, 1024, 240], //scaled down sawtooth //[0,495.5, 15.475409836065573,863,30.950819672131146,844,46.42622950819672,827, 61.90163934426229,811, 77.37704918032787,792, 92.85245901639344,774, 108.327868852459,762, 123.80327868852459,748,139.27868852459017,734,154.75409836065575,714,170.2295081967213,699, 185.70491803278688,679,201.18032786885246,664,216.655737704918,650, 232.1311475409836,634, 247.60655737704917,623,263.08196721311475,615,278.55737704918033,602,294.0327868852459,586, 309.5081967213115,575, 324.983606557377,561, 340.4590163934426,546, 355.9344262295082,534, 371.40983606557376,519,386.88524590163934,506,402.3606557377049,492, 417.8360655737705,483, 433.311475409836,468, 448.7868852459016,459, 464.2622950819672,449, 479.73770491803276,449,495.21311475409834,440,510.6885245901639,430,526.1639344262295,420,541.639344262295,412, 557.1147540983607,405,572.5901639344262,392,588.0655737704918,384,603.5409836065573,371,619.016393442623,355, 634.4918032786885,340,649.967213114754,327, 665.4426229508197,316,680.9180327868852,299,696.3934426229508,283,711.8688524590164,265,727.344262295082,257, 742.8196721311475,247,758.295081967213,232, 773.7704918032787,222,789.2459016393442,208,804.7213114754098,196,820.1967213114754,182,835.672131147541,168, 851.1475409836065,152,866.622950819672,141, 882.0983606557377,129,897.5737704918032,119,913.0491803278688,111,928.5245901639344,101,944,495.5], //sawtoothish
        [0, 353.5, 197, 677, 208, 45, 310, 141, 345, 11, 390, 529, 691, -3, 888, 697, 1072, 176, 1364, 353.5], //simple overtones, almost woodwindish
        [0,495.5, 62.93333333333333,572, 125.86666666666666,424,188.79999999999998,496,251.73333333333332,300,314.66666666666663,496,377.59999999999997,20, 440.5333333333333,488, 503.46666666666664,401,566.4,980,629.3333333333333,401,692.2666666666667,499,755.1999999999999,424,818.1333333333333,495,881.0666666666666,409,944,495.5], //piano?
        [0, 324, 42.90909090909091, 324, 85.81818181818181, 289, 128.72727272727272, 418.6, 171.63636363636363, 329, 214.54545454545453, 496, 257.45454545454544, 386, 300.3636363636364, 418.6, 343.27272727272725, 324, 386.18181818181813, 382, 429.09090909090907, 280, 472, 374, 514.9090909090909, 303.05, 557.8181818181818, 350, 600.7272727272727, 245, 643.6363636363636, 288.45, 686.5454545454545, 280.55, 729.4545454545454, 322, 772.3636363636363, 384, 815.2727272727273, 298, 858.1818181818181, 280, 901.090909090909, 324, 944, 324], //bowed string (adsr ramp to decay w/ quick dropoff to sus
        [0, 495.5, 135, 495.5, 948, 193, 405, 495.5, 539, 495.5, 202, 779, 809, 495.5, 994, 495.5],//overtones
        [0, 353.5, 20, 686, 745, 687, 620, 12, 504, 691, 1337, 681, 1346, 9, 1364, 353.5],//harmonics
        [0, 353.5, 20, 686, 626, 688, 631, 687, 886, 369, 969, 243, 873, 105, 728, 118, 649, 200, 631, 286, 630, 285, 630, 285, 605, 201, 531, 123, 387, 109, 305, 246, 395, 383, 631, 688, 629, 688, 1337, 681, 1346, 9, 1364, 353.5],//heart, deformed from harmonics above
        [0, 353.5, 20, 686, 270, 587, 626, 114, 886, 369, 969, 243, 873, 105, 728, 118, 649, 200, 631, 286, 630, 285, 630, 285, 605, 201, 531, 123, 387, 109, 305, 246, 395, 383, 626, 114, 1027, 578, 1337, 681, 1346, 9, 1364, 353.5], //spectacles?, deformed from heart above
        //[0, 765.0150146484375, 1439, 1495, 9, 7, 1234, 765.0150146484375, 1573, 911, 2063, 1454, 1450, 657, 2018, 30, 1415, 253, 764, 27, 1394, 659, 825, 1463, 1294, 923, 1646, 765.0150146484375, 2875, 6, 1451, 1498, 2880, 765.0150146484375], //butterflytooth
        [0, 353.5, 14, 14, 5, 581, 35, 672, 137, 662, 786, 342, 530, 413, 680, 268, 1183, 569, 655, 248, 601, 172, 602, 130, 596, 166, 547, 183, 578, 153, 546, 183, 561, 130, 593, 128, 562, 124, 445, 61, 343, 676, 149, 8, 171, 187, 78, 53, 155, 211, 230, 321, 229, 322, 227, 327, 174, 451, 143, 622, 196, 465, 190, 706, 288, -61, 520, 706, 1257, 650, 1338, 19, 1364, 353.5],//fishbirdthing
      ];
    </script>  
  </head>
  <body style="overflow:hidden;background-color:white;">
    <svg id=boo width="100%" height="100%" style="position:absolute;top:0px;left:0px;margin:0px;padding:0px;border:0px;background-color:transparent">
      <!--rect id=pitch x=0 y=0 width=50 height=5 rx=5 ry=5 fill="lightslategray"/-->
      <g id=graph class=''></g>      <g id=micgraph class=''></g>
      <g id=adsr class='hide'></g>
    </svg>
  </body>
  <script src="events.js"></script>
 </html>